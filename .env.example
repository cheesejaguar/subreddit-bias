# ===========================================
# Subreddit Sentiment & Bias Signals Analyzer
# Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ===========================================
# Database (Neon Postgres)
# ===========================================
# Get your connection string from https://neon.tech

# Recommended for most uses (pooled via pgbouncer)
DATABASE_URL=postgresql://user:password@ep-xxx.region.aws.neon.tech/neondb?sslmode=require

# For uses requiring a direct connection without pgbouncer
# DATABASE_URL_UNPOOLED=postgresql://user:password@ep-xxx.region.aws.neon.tech/neondb?sslmode=require

# Optional: Individual connection parameters
# PGHOST=ep-xxx.region.aws.neon.tech
# PGHOST_UNPOOLED=ep-xxx.region.aws.neon.tech

# ===========================================
# Cache (Vercel KV / Upstash Redis)
# ===========================================
# These are automatically set when you link Vercel KV to your project
# Or get them from https://upstash.com

KV_REST_API_URL=https://xxx.upstash.io
KV_REST_API_TOKEN=your-kv-rest-api-token
KV_REST_API_READ_ONLY_TOKEN=your-kv-read-only-token
KV_URL=redis://default:xxx@xxx.upstash.io:6379
REDIS_URL=redis://default:xxx@xxx.upstash.io:6379

# ===========================================
# LLM API (OpenRouter)
# ===========================================
# Get your API key from https://openrouter.ai
OPENROUTER_API_KEY=sk-or-v1-your-api-key-here

# Optional: Set a specific model (defaults to gpt-4o-mini)
# OPENROUTER_MODEL=openai/gpt-4o-mini

# Optional: Set a site URL for OpenRouter analytics
# OPENROUTER_SITE_URL=https://your-site.com

# ===========================================
# Security
# ===========================================
# Secret for authenticating cron job requests
# Generate with: openssl rand -hex 32
CRON_SECRET=your-cron-secret-here

# Optional: Admin API authentication
# ADMIN_API_KEY=your-admin-api-key-here

# ===========================================
# Feature Flags (Optional)
# ===========================================
# Enable/disable features
# ENABLE_TARGET_GROUP_ANALYSIS=true
# ENABLE_BASELINE_COMPARISON=true
# ENABLE_SCHEDULED_REPORTS=true

# ===========================================
# Rate Limits (Optional)
# ===========================================
# Reddit API rate limit (requests per minute)
# REDDIT_RATE_LIMIT=60

# OpenRouter rate limit (requests per minute)
# OPENROUTER_RATE_LIMIT=100

# ===========================================
# Budget Limits (Optional)
# ===========================================
# Maximum cost per report in USD
# MAX_COST_PER_REPORT=5.00

# Maximum total tokens per report
# MAX_TOKENS_PER_REPORT=500000

# Maximum comments to analyze per report
# MAX_COMMENTS_PER_REPORT=5000

# ===========================================
# Development (Optional)
# ===========================================
# Set to 'development' for verbose logging
# NODE_ENV=development

# Enable debug mode for detailed logs
# DEBUG=true
